# 동구라미 - 수원대학교 동아리 연합회 공식 플랫폼

## 📖 프로젝트 개요

수원대학교 동아리 연합회의 공식 플랫폼으로, 모든 동아리 정보를 전산화하여 효율적인 관리와 홍보를 가능하게 합니다. 학생들은 손쉽게 동아리 정보를 확인할 수 있고, 동아리는 별도 홍보 없이도 신입 회원을 모집할 수 있습니다.

![동구라미 그래픽 이미지](./assets/dongurami.png)

## 🙋‍♂️ 역할: 모바일 개발 팀장

프로젝트 전반적인 설계와 개발을 주도하며 다음과 같은 역할을 수행했습니다:

- 팀원들의 개발 역량을 고려한 업무 분배 및 일정 관리
- 코드 리뷰를 통한 코드 품질 관리 및 팀원 역량 향상 도모
- Git Flow 전략을 도입하여 체계적인 버전 관리 시스템 구축
- Notion을 활용한 문서화 및 지식 공유 시스템 구축

이를 통해 팀원들과 원활한 소통을 유지하며 프로젝트를 성공적으로 이끌어 나갔습니다.

## ⚡ 기술적 도전 1: Riverpod을 활용한 MVVM 구조 고안 및 도입

### 1. 아키텍처 선정

프로젝트를 시작하기에 앞서 가장 많은 시간을 소비한 부분은 상태관리 라이브러리와 아키텍처 설정하는 데 있었습니다. Flutter에서 제공되는 아키텍처는 어떻게 구성되어 있는지 자료조사를 진행했습니다. Android에서는 MVVM을 공식 아키텍처로 선정하여 LiveData, ViewModel 클래스 등을 제공하여 가이드라인을 제시하고 있는 반면, 짧은 역사를 가진 프레임워크인 Flutter에서는 아직 명확한 가이드라인이 보이지 않았습니다. 데이터 바인딩과 비즈니스 로직 분리 측면에서 이점이 있어 모바일 애플리케이션 개발 시 사용되는 MVVM을 사용하기로 결정했습니다.

### 2. 상태관리 라이브러리 선정

MVVM을 구현하기에 앞서 상태관리 라이브러리를 선정해야 하는 문제가 존재했는데, Flutter 생태계에는 크게 3가지의 상태관리 라이브러리가 성장하고 있었습니다. 먼저 pub.dev에서 가장 많은 Likes를 받은 GetX와 가장 Flutter 친화적인 Provider, BLoC 구조를 구현하기 위한 flutter_bloc가 있었습니다. 일단 BLoC의 경우 많은 boilerplate 코드를 만들어낸다는 점에서 우선순위가 낮고, GetX의 경우 안정성이 떨어진다는 평가가 많았습니다. 그래서 Provider에 기반을 두고 단점을 보완하여 마치 GetX처럼 편한 사용성을 가진 Riverpod이 매력적으로 다가왔고 Riverpod을 사용하기로 결정했습니다.

### 3. 개발하면서 느낀 이점과 한계

MVVM 아키텍처 도입과 함께 예외처리와 비즈니스 로직을 ViewModel에 집중하여 View, Model, ViewModel에 대한 테스트가 용이하게 만들었습니다. AsyncValue와 State 패턴을 이용한 데이터바인딩과 상태관리를 하여 데이터 전달 시 사용되는 반복적인 코드를 줄였습니다. 그 결과 앱의 버그를 매우 낮추면서도 생산적인 코드 작성을 할 수 있었습니다.

Riverpod에는 Notifier를 이용한 상태관리를 하는데 Notifier는 하나의 데이터만 관리할 수 있다는 특징이 있습니다. 데이터별로 ViewModel을 만들어야 했고 하나의 View에 여러 개의 ViewModel이 대응되어야 했습니다. 이는 하나의 뷰모델이 데이터 단위로 모듈화되어 여러 View에 재활용될 수 있는 장점이 되었습니다.

View와 Model의 분리가 완전히 이뤄지지 않았습니다. Riverpod 라이브러리 특성상 ViewModel 즉 Notifier에서 관리되는 변수는 하나만 존재하게 됩니다. 그래서 객체 형태로 데이터를 사용하는데 전달되는 데이터 객체의 멤버변수를 View에서 그대로 접근하여 사용한다는 점에서 유지보수가 떨어진다는 것을 알게되었습니다. 이 문제는 Model 객체를 그대로 사용하는 것이 아닌 별도의 객체를 두어서 해결할 수 있지만, 이는 그만큼 boilerplate 코드를 만들어내므로 현재 상황에서는 큰 이점이 없다는 생각이 들어 차후 고려해볼 예정입니다.

## 🌐 기술적 도전 2: 웹으로의 통합 전환

### 배경: 앱 서비스의 한계와 문제점

2025년 동아리 가입시기에 맞춰 도입하려고 했지만 서비스의 완성도와 동아리 회장들의 반대로 도입하지 못했습니다. 그때 나왔던 불편함을 개선하기 위해 웹으로 통합하기로 결정했습니다.

#### 1. 앱과 웹 사이의 혼란

앱(회원 서비스)과 웹(관리자 페이지)는 양측 사용자들에게 혼란을 주었습니다. 예를 들어 회장들은 앱에서 관리자 계정 로그인을 시도했고 로그인 실패를 문의했습니다. 회장들의 정확히 이해를 시키지 못한 것 자체가 사용자 경험이 좋지 못한 서비스라고 생각했습니다.

#### 2. 앱의 두 가지 문제점

**배포의 비용과 시간**
- 저희 서비스는 아직 경험이 부족한 학생들이 만드는 서비스이므로 부족한 사용자 경험을 사용자 피드백을 빠르게 적용하는 식으로 해결할 필요가 있었습니다. 앱은 배포 및 심사 과정이 시간적으로도 경제적으로도 매우 무거운 작업이었습니다.

**설치 과정의 부담**
- 지원기간에만 이 앱이 필요한데 앱이 계속해서 저장공간을 잡아두는 문제가 있었습니다.

### 웹 통합 결정과 기술 스택 선정

앞선 두 가지 문제를 해결하기 위해 웹으로 서비스를 통합하기로 결정했습니다.

#### 초기 기술 스택에 대한 고민

웹으로 전환하는 과정에서 "왜 초기 기술스택을 앱으로 정했을까?"를 생각해봤습니다. 제가 이 프로젝트에 처음 참여했을 때는 이미 기획이 다 되어있었고 포지션별로 인원 구성이 끝나있는 상황이었습니다. 그래서 큰 의심 없이 개발했었고 어느새 저는 팀장이 되었습니다. 팀장이 되니 보이는 많은 문제점들이 있었습니다. 위에서 언급한 배포 시 불편함이 가장 컸습니다. 또한 앱을 사용해야 하는 필수적인 이유에 대해서 생각해봤습니다. 그러나 이유가 없었고 때마침 웹 통합 얘기가 나오면서 기존의 틀에서 벗어나고자 하는 마음을 먹었습니다.

팀장으로서 이런 결단을 내리는 게 굉장히 마음이 무거웠고 웹 전환 과정에서 겪게될 문제에 대한 책임이 저라는 사실이 두렵기도 했습니다. 그러나 도저히 초기 기술 스택 선정의 합리적인 근거를 찾을 수 없었고, 이미 한 번의 배포 실패를 겪은 상태이기에 해보지도 않고 후회하는 것보다는 시도하고 후회하자는 마음으로 웹으로 통합하자는 결정을 했습니다.

#### Flutter vs 전통 웹 프레임워크 (React, Vue)

웹 통합 결정 이후에 팀장으로서 기술스택 선정에 고민이 되었습니다. 과연 Flutter와 기존 웹 프레임워크 사이에서 고민했습니다. 고려할 사항은 해당 기술 스택의 정보풀(커뮤니티), 팀원들이 얼마나 해당 기술 스택을 다루는지, 현실적인 도입 시간이었습니다. 2025년 8월부터 개발이 되었고, 실질적인 개발 기간은 방학기간인 한달을 잡았습니다.

**전통 웹 프레임워크(React/Vue) 선택 시:**
- 정보력은 많기 때문에 안정적인 완성을 보장할 수 있습니다.
- 약 한달이라는 시간 동안 해당 기술스택을 지금부터 학습해서 처음부터 다시 개발하는 것은 현실적으로 불가능했습니다.
- Vue를 사용할 수도 있었지만 (관리자 페이지를 Vue로 만들었기 때문에) Vue를 다룰 수 있는 인원 2명, 우리 팀원은 5명이고 모두 Vue가 처음입니다. 따라서 큰 기대를 바라기 힘들었습니다.

**Flutter 선택 시:**
- 웹에 대해서 약간의 최적화만 해주면 됩니다.
- 팀원들의 이해도가 높아 웹 전환 시 발생할 문제를 트러블슈팅하는 데 시간을 쏟아 좀 더 안정적인 서비스를 기대할 수 있습니다.
- 그러나 플러터는 정보풀이 턱없이 부족하다는 단점이 있습니다.
- 또한 Firebase 알림 기능이 제한적으로 이용이 가능합니다.

**결정:**
시간적인 제약사항과 MVP를 빠르게 구성해본다는 관점에서 저비용으로 개발할 수 있는 Flutter를 우선적으로 시도해보는 것이 합리적이라고 판단했습니다.

### 웹 통합의 성과

#### 사용자 경험 개선

`donggurami.net`과 `admin.donggurami.net`으로 구성함으로써 사용자 입장에서는 두 서비스가 일관되지만 명확하게 구분이 가능해졌습니다.

#### 배포 비용 및 시간 절감

- **iOS**: 1년에 129,000원과 배포 심사 시간 평균 24~48시간
- **Android**: 초기에 등록 시 발생하는 비용과 12명 심사 시 평균 1시간 정도
- **웹 (Github Pages)**: 금전적 비용 없음, Github Actions로 CD 구성 시 push만으로 3분만에 배포 완료

**정량적 효과:**
- 2024년 9월 17일 ~ 2025년 3월 16일: 11번의 배포
- 2025년 9월 24일 ~ 2025년 11월 2일: 90번의 배포
- **약 723% 배포 빈도 증가**로 사용자 피드백을 빠르게 반영 가능
- **연간 약 129,000원 이상의 비용 절감**

## 🏗️ 기술적 도전 3: 더 나은 MVVM 아키텍처 업사이클링

현재 프로젝트는 Riverpod을 이용하여 MVVM Clean Architecture를 이용해서 구성되어 있습니다. Flutter라는 프레임워크가 아직 역사가 길지 않아 정립된 아키텍처와 구현 방식이 다양합니다. 이 때문에 초기 프로젝트 구성 당시 가장 Flutter 친화적이면서 Boilerplate 코드가 적어 빠르게 구현이 가능하다는 점에서 채택하게 되었습니다.

그러나 구현을 하면서 예외처리나 다양한 상황에 대한 상태관리에서 문제가 발생했습니다. 현재 이 문제를 해결하기 위해 2025년 1월 31일에 Flutter에서 공식적으로 제시하는 아키텍처([Flutter 공식 아키텍처 가이드](https://docs.flutter.dev/app-architecture))가 나와서 이를 부분적으로 도입했습니다.

### 개선 사항

1. **Command 패턴 도입**
   - 더 안정적으로 비동기 처리를 하고 데이터 바인딩을 처리
   - State를 통해 직관적으로 UI에 다양한 패턴을 부여 가능

2. **Result 패턴 도입**
   - 더 안정적으로 예외처리를 할 수 있음
   - 타입 안전성을 통한 컴파일 타임 에러 방지

3. **Model 의존성 완전 제거**
   - Model은 Repository와 Response를 사용하고 필요한 데이터만 넘겨줌
   - UI 단에서는 ViewModel이 데이터를 한 번 더 가공해서 State로 만들면서 Model에 대한 의존성을 완전히 제거

4. **현실적인 적용**
   - 배포를 해야하므로 부분적으로 적용하여 맹목적인 아키텍처 추종이 아니라 필요에 따라 적용하는 방식으로 현실적으로 대응

## 📊 기술적 도전 4: 에러 모니터링과 사용자 행동 추적

### Firebase Analytics 도입

Firebase Analytics를 도입하여 아래와 같은 정보를 수집하고자 했습니다. 이 정보를 토대로 동아리 추천 알고리즘 개발 시 데이터로 활용하고 서비스 개선을 위해 사용할 예정입니다.

#### 계정 관련 지표
- 자동로그인이 얼마나 잘 되는지
- 회원가입이 얼마나 됐는지
- 회원탈퇴를 얼마나 했는지

#### 유저 행동 패턴
- 누가 어느 동아리가 가장 많이 클릭되는지
- 누가 어느 동아리를 가장 많이 지원하는지
- 사용자가 정보 수정을 많이 하는지
- 가장 많이 선택된 필터

### Sentry 도입

원래는 Firebase Analytics로 에러 모니터링도 하려고 했습니다. 그러나 Firebase Analytics는 실시간 모니터링이 무료 플랜에서는 적합하지 않다고 판단이 되어 Sentry를 도입하기로 했습니다.

**Sentry의 장점:**
- 에러 모니터링에 특화되어 있기 때문에 에러에 대한 컨텍스트, 스택 트레이스, 버전별 에러 관리가 쉬움
- 에러가 발생하면 알림을 주어 확실히 실시간으로 사용자들이 겪는 문제를 파악하고 해결하기에 쉬움
- 배포된 서비스 디버깅 시 개발자 경험을 향상시킬 수 있음

## 🎯 결과 및 성과

위에서 말한 개선 과정을 거쳐 **2025년 10월 30일** 동아리의 축제에 입장 시 식별을 위해 우리 서비스를 사용했습니다.

### 정량적 성과

- **활성 사용자 수**: 0명 → 249명 (일일)
- **누적 가입자 수**: 498명
- **주간 활성 사용자**: 618명
- **월간 활성 사용자**: 772명

### 정성적 평가

행사를 진행한 동아리 연합회 측에서도 기존 방식으로 동아리 소속 인원을 식별하는 것보다 정말 편하게 진행되었다는 평가와 몇 명의 동아리 회장들로부터 기존의 문제점이 잘 해결된 것 같다는 평가까지 받았습니다.

## 🛠️ 기술 스택

### 프론트엔드
- **Framework**: Flutter 3.24.1
- **Language**: Dart 3.5.1
- **State Management**: Riverpod
- **Architecture**: MVVM + Clean Architecture

### 백엔드 & 인프라
- **Backend**: (백엔드 스택 명시 필요)
- **Hosting**: GitHub Pages
- **CI/CD**: GitHub Actions
- **Analytics**: Firebase Analytics
- **Error Monitoring**: Sentry
- **Push Notification**: Firebase Cloud Messaging

### 도구
- **Version Control**: Git (Git Flow 전략)
- **Documentation**: Notion
- **Design**: Figma
- **Collaboration**: Miro

## 📈 향후 계획

1. **동아리 추천 알고리즘 개발**: Firebase Analytics 데이터를 활용한 개인화된 동아리 추천 시스템 구축
2. **서비스 안정화**: 지속적인 사용자 피드백 수집 및 개선
3. **아키텍처 지속적 개선**: Flutter 공식 아키텍처 가이드에 따른 점진적 개선

